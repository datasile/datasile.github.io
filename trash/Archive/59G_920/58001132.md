---
layout: default
title : Acceptance
parent : 59G_920
has_toc : false
nav_exclude: true
--- 

tauxAcc2 = (name) => {
  const year = annee_min;

  // Obtenir le code pays
  const code =
    name === "Czechia"
      ? "CZ"
      : countryCodes.get(name);

  if (!code) {
    console.warn(`Code pays manquant pour : ${name}`);
    return null;
  }

  // Obtenir les sélections filtrées pour P et T
  const pSelection = P_index.get("TOTAL")?.get(code)?.get("TOTAL");
  const tSelection = T_index.get("TOTAL")?.get(code)?.get("TOTAL");

  // Vérifier que les sélections existent
  if (!pSelection || !tSelection) {
    console.warn(`Données manquantes pour le pays : ${name} (code : ${code})`);
    return null;
  }

  // Extraire les valeurs "incoming" pour l'année
  const pIncoming = pSelection.find((d) => d.year === year)?.incoming;
  const tincoming = tSelection.find((d) => d.year === year)?.incoming;

  // Vérification des valeurs "incoming" de P et T
  if (pIncoming === undefined || tincoming === undefined) {
    console.warn(`Valeurs "incoming" manquantes pour ${name}: P = ${pIncoming}, T = ${tincoming}`);
    return null;
  }

  // Calculer le ratio txI (P / T) ou retourner null si les données sont manquantes
  const ratio = tincoming > 0 ? tincoming / pIncoming : null;

  // Vérification finale
  console.log(`Pays: ${name}, P (incoming): ${pIncoming}, T (incoming): ${tincoming}, Ratio: ${ratio}`);
  return ratio;
};
